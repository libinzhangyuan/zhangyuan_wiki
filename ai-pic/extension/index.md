
```
Stable Diffusion有丰富的扩展功能，以下是一些常见的扩展功能介绍：
- **图像扩展与修复**
    - **智能扩图（Outpainting）**：
可以自动延续画面逻辑，实现光影、纹理的无缝衔接，支持多风格适配，如二次元、写实、油画风等，还能批量处理，
同时扩展100+张图的边缘。通过合理设置Outpainting参数，结合ControlNet辅助控制确保扩展部分透视准确，
以及利用局部重绘精修对不满意区域进行微调，可达到理想的扩图效果。

    - **局部重绘（Inpainting）**：
能够修改图片的局部区域，比如调整人物表情、更换背景等，且边缘过渡自然。
用户可以添加适当的蒙板区域指定重绘功能生效的区域，对图像进行精准修改。

    - **超分辨率放大**：
在“额外功能”中，可通过选择不同的放大算法，如LDSR、ESRGAN、4x - UltraSharp等，
在保持图片清晰度的前提下增加图片的分辨率。部分算法还附带修脸参数，
可通过GFPGAN visibility和CodeFormer visibility来设置修脸模型的参与度。

- **模型与训练相关**
    - **Dreambooth**：
基于Shivam Shiaro的代码库，优化了对低VRAM GPU的支持，用于个性化模型训练，
用户可以使用少量的样本图片来训练一个特定于自己的模型，使模型能够生成具有特定风格或包含特定对象的图像。

    - **Txt/Img to 3D Model**：
集成了OpenAI Shape - E的扩展，允许用户仅通过文本描述或图像就能生成3D模型，为创意提供了更多维度。

    - **LoRA（局部重建Attention）**：
允许Web UI使用LoRAs（1.X和2.X版本）生成图像，并允许编辑.safetensors网络的提示元数据，
还可以即时应用LoRA强度，包括预设、权重分析、随机化、XY图表等。

- **提示词与创意辅助**
    - **Dynamic Prompts**：
实现了一种表达式模板语言，用于随机或组合式的提示生成，支持深层通配符目录结构，
帮助用户更灵活地生成多样化的提示词，从而获得不同风格和内容的图像。

    - **Prompt Gallery**：
可以创建一个包含角色提示的yaml文件，一键生成并快速预览它们的属性，方便用户管理和复用提示词。

    - **Inspiration**：
随机显示艺术家或艺术流派典型风格的图片，为用户在创作时提供灵感，帮助用户选择正确的艺术风格。

- **工作流与任务管理**
    - **Agent Scheduler**：
一个用于排队和跟踪任务历史的工具，使得管理生成任务变得井井有条，用户可以更好地组织和管理多个图像生成任务。
    - **Batch Checkpoints and Prompts**：
允许用户对基础提示进行测试，并为不同的检查点提供定制化的提示模板，提高实验的效率和效果，
便于用户在不同的模型检查点下进行实验和比较。
- **其他实用功能**
    - **sd - webui - segment - anything**：
通过点击或文本提示，自动为Stable Diffusion WebUI生成高质量的图像分割/遮罩，
用于优化图像的详细部分处理，方便用户对图像的特定区域进行操作和编辑。
    - **Aesthetic Gradients**：
让用户可以从一张或少数几张图片中训练出一个嵌入模型，这个嵌入模型专门用于为生成的图像应用特定的风格，
创造出美学上更加吸引人的作品。
    - **Config - Presets**：
添加一个可配置的下拉菜单，让用户在文本到图像和图像到图像的选项卡中更改UI预设设置，方便用户快速切换不同的设置组合。

```


```
Stable Diffusion的超分辨率放大功能可以在保持图片清晰度的前提下增加图片的分辨率，以下是对该功能的详细介绍：

### 放大算法
- **ESRGAN_4x**：通过学习低分辨率图像与其对应高分辨率图像之间的映射关系来实现超分辨率，分辨率最高可增强4倍，但可能会出现锐化效果，适合油画风等风格的图像。
- **R - ESRGAN 4x+**：引入残差连接和递归结构，并使用生成对抗网络进行训练，在提高图像分辨率的同时完善图像细节，生成图像的质量比传统方法更高。
- **R - ESRGAN 4x+ Anime6B**：是R - ESRGAN 4x+的衍生版本，修复二次元漫画的效果很好。
- **Latent系列算法**：如Latent (antialiased)、Latent (bicubic)等，是基于VAE模型的图像增强算法，可以在潜空间中将图片进行放大并根据重绘幅度进行重绘。其中Latent (bicubic)是双立方插值算法，通过扩展影响范围至邻近的16个像素点进行插值计算，从而得到更细致的影像；Latent (antialiased)结合了抗锯齿技术，可消除图像中锯齿状边缘。
- **4x - UltraSharp**：这是一种效果较好的放大算法，常与图生图功能配合使用来获取高分辨率图像，例如可以先使用图生图工具将图片放大2倍，再使用4x - UltraSharp算法再放大2倍，从而得到4K高清图片。

### 操作方法
- **使用Stable Diffusion自带附加功能放大**：打开stable - diffusion - webui，点击“Extras（更多）”，点击“source（来源）”选择或直接拖入要放大的图片，选择放大倍数，一般4倍即可，再选择合适的放大算法，如真人一般使用ESRGAN_4x，二次元人物一般使用R - ESRGAN 4x，最后点击“generate（生成）”按钮即可。
- **使用Hires.fix功能放大**：在文生图界面中，选中“Hires.fix”，在“Upscale by”中设置放大倍数，如设置为2则等比放大2倍。然后设置“Denoising strength”（重绘幅度），该数值越高，重绘出来的图片与原图相差越大，若不想改变原图效果，可将其设置在0.5以下。还可在“Upscaler”选项中选择不同的高清算法对图片进行放大，最后点击生成按钮。
- **使用ControlNet Tile进行放大**：首先需将ControlNet更新到1.1版本。拖入图片填写提示词，发送到图生图。配置图生图迭代步数，卡通20+，人物30+，场景40+以上步数。配置ControlNet，启用并勾选完美像素，选择Tile分类，预处理器选择tile_resample，模型选择Tile。脚本下拉选择Ultimate SD upscale，放大类型选择从原图，Scale放大倍数根据图片原始尺寸和目标放大尺寸计算，一般建议放大到2K或者4K即可，最后点击生成。

### 注意事项
- **显存问题**：部分放大方法，如Multidiffusion + tile放大等，可能会占用较多显存，配置不高的电脑可能会出现爆显存的情况，此时可选择对显存要求较低的方法，如Stable Diffusion自带的附加功能放大，或适当降低放大倍数。
- **重绘幅度设置**：重绘幅度（Denoising strength）的设置需要根据具体情况进行调整，设置过大可能导致放大后的图片与原图差异过大，设置过小则可能无法达到理想的放大效果或出现模糊等问题。
- **算法选择**：不同的放大算法适用于不同的图像风格和场景，可根据实际需求选择合适的算法，如修复二次元漫画可选择R - ESRGAN 4x+ Anime6B算法，油画风图像可选择ESRGAN_4x算法等。

```