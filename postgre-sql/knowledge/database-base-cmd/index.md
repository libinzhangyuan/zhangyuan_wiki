[return](/postgre-sql/knowledge/index)

### 数据库基本命令

PostgreSQL的命令主要分为两类：
**psql客户端元命令**（以反斜杠`\`开头，无需分号结尾，是psql工具特有）
和
**标准SQL命令**（需以分号`;`结尾，通用数据库操作）。
以下从「连接命令」「核心元命令」「常用SQL命令」三个维度，结合示例详细介绍，重点覆盖类似`\l`的高频命令。


## 一、psql客户端连接命令
使用psql工具（PostgreSQL自带的命令行客户端）连接数据库，是执行后续命令的前提。基本语法如下：
```bash
psql -U 用户名 -d 数据库名 -h 主机地址 -p 端口号

```
```
| 参数 | 说明 | 示例 |
|------|------|------|
| `-U` | 指定连接的PostgreSQL用户名（默认是当前系统用户名） | `-U postgres`（连接内置超级用户postgres） |
| `-d` | 指定初始连接的数据库名（默认与用户名相同） | `-d testdb`（初始连接testdb数据库） |
| `-h` | 指定数据库服务器主机地址（本地默认`localhost`） | `-h 192.168.1.100`（连接远程服务器） |
| `-p` | 指定数据库端口号（默认`5432`） | `-p 5433`（端口非默认时使用） |
```
### 常见连接示例
1. 本地连接（默认端口、用户名`postgres`、初始数据库`postgres`）：
   ```bash
   psql -U postgres
   ```
2. 远程连接（主机`10.0.0.5`、端口`5432`、用户`admin`、数据库`appdb`）：
   ```bash
   psql -U admin -d appdb -h 10.0.0.5 -p 5432
   ```


## 二、核心psql元命令（反斜杠开头）
元命令是psql客户端的“快捷指令”，用于查看数据库对象、切换上下文、管理客户端等，**无需分号结尾**。以下是最常用的元命令：
```
| 元命令 | 作用 | 示例 |
|--------|------|------|
| `\l` | **列出所有数据库**（用户提问的核心命令） | 直接输入`\l`，会显示数据库名、所有者、编码、排序规则等信息 |
| `\c 数据库名` | **切换到指定数据库**（类似MySQL的`USE`，但PostgreSQL无`USE`） | `\c testdb` → 切换到`testdb`数据库，提示符会变为`testdb=#` |
| `\d` | **列出当前数据库的所有表、视图、序列** | 输入`\d`，显示当前库中所有对象的名称和类型 |
| `\d 表名` | **查看指定表的结构**（最常用的表信息查询） | `\d users` → 显示`users`表的字段名、数据类型、约束（主键/外键/非空等）、索引 |
| `\du` | **列出所有PostgreSQL用户及权限** | 输入`\du`，查看用户的角色、权限范围（如超级用户、创建数据库权限） |
| `\di` | **列出当前数据库的所有索引** | 输入`\di`，显示索引名、关联的表、索引类型（如B-tree） |
| `\dv` | **列出当前数据库的所有视图** | 输入`\dv`，显示视图名、所有者、关联的表 |
| `\q` | **退出psql客户端** | 输入`\q`，直接退出命令行界面 |
| `\?` | **查看所有psql元命令的帮助** | 忘记命令时输入`\?`，会列出所有元命令及说明 |
| `\timing` | **开启/关闭SQL执行时间统计** | 输入`\timing`（开启），执行`SELECT * FROM users;`后会显示查询耗时 |

```