[返回](/doris/knowledge/index)

# Doris 数据库组件介绍

Doris 是一个基于 MPP 架构的高性能、实时的分析型数据库，主要由以下三个核心组件构成：

## 1. FE (Frontend)

FE 是 Doris 的前端节点，负责元数据管理、集群管理、查询解析和调度等工作。

**主要功能：**
- 管理元数据存储和集群状态
- 接收并解析 SQL 请求
- 生成并优化查询执行计划
- 协调查询任务的执行
- 提供 MySQL 协议接口

**配置示例：**
```sql
-- 查看 FE 节点状态
SHOW PROC '/frontends';

-- 结果示例：
+----------------------------------+-----------+---------------+-----------+---------+-----------+---------+------------------+----------------------+--------------------------+---------------------+
| Name                             | Host      | EditLogPort   | HttpPort  | QueryPort | RpcPort | Role    | IsMaster         | ClusterId            | JoinTime                 | ReplayedJournalId   |
+----------------------------------+-----------+---------------+-----------+---------+-----------+---------+------------------+----------------------+--------------------------+---------------------+
| 192.168.1.1_9010_123456789       | 192.168.1.1 | 9010         | 8030     | 9030    | 9020     | FOLLOWER | true            | 1234567890           | 2023-01-01 10:00:00      | 1000                |
+----------------------------------+-----------+---------------+-----------+---------+-----------+---------+------------------+----------------------+--------------------------+---------------------+
```

## 2. BE (Backend)

BE 是 Doris 的后端节点，负责数据存储和查询执行。

**主要功能：**
- 存储表数据（行存和列存）
- 执行查询计划
- 数据压缩和编码
- 本地计算和聚合
- 数据副本管理

**配置示例：**
```sql
-- 查看 BE 节点状态
SHOW PROC '/backends';

-- 结果示例：
+------------------+-----------+----------+--------------+-----------+-----------+----------------------------------------------------------------------------------------+
| Host             | Heartbeat | BePort   | HttpPort     | BrpcPort  | Alive     | SystemDecommissioned                                                                  |
+------------------+-----------+----------+--------------+-----------+-----------+----------------------------------------------------------------------------------------+
| 192.168.1.2      | true      | 9060     | 8040         | 8060      | true      | false                                                                                 |
| 192.168.1.3      | true      | 9060     | 8040         | 8060      | true      | false                                                                                 |
+------------------+-----------+----------+--------------+-----------+-----------+----------------------------------------------------------------------------------------+
```

## 3. Broker

Broker 是 Doris 的外部存储访问代理，用于与 HDFS、S3 等外部存储系统交互。

**主要功能：**
- 提供对外部存储系统的访问能力
- 支持数据导入导出
- 支持备份恢复操作
- 支持多种外部存储协议

**配置示例：**
```sql
-- 查看 Broker 节点状态
SHOW PROC '/brokers';

-- 结果示例：
+------------+-----------+---------+--------+
| Name       | Host      | Port    | Alive  |
+------------+-----------+---------+--------+
| hdfs_broker| 192.168.1.4| 8000   | true   |
| s3_broker  | 192.168.1.5| 8000   | true   |
+------------+-----------+---------+--------+
```

## 组件对比表

```markdown
| 组件   | 角色                | 主要功能                          | 扩展性       | 高可用要求 |
|--------|---------------------|-----------------------------------|-------------|------------|
| FE     | 管理/协调节点       | 元数据管理、查询解析与调度        | 可水平扩展  | 非常高     |
| BE     | 存储/计算节点       | 数据存储、查询执行                | 可水平扩展  | 高         |
| Broker | 外部存储访问代理    | 与HDFS/S3等外部存储交互           | 按需扩展    | 中等       |
```