[return](index)


你已经通过无快照启动成功让模拟器正常显示，现在需要删除那个导致黑屏的损坏快照，有两种可靠方法（优先推荐手动命令行删除，最直接高效；也支持模拟器UI删除，可视化操作），具体步骤如下：

## 一、优先方案：手动命令行删除（彻底清除损坏快照，无依赖）
```
这种方法无需依赖模拟器UI，直接删除快照文件，百分百生效，步骤如下：
1.  **先彻底关闭当前模拟器（关键前提）**
    - 关闭模拟器可视化窗口；
    - 若终端还在运行模拟器进程，按 `Ctrl+C` 终止进程；
    - 可选：验证是否无残留进程（避免快照文件被锁定），执行命令：

      # 排查模拟器残留进程，无输出则说明已彻底关闭
      ps -ef | grep emulator
```

2.  **执行命令删除损坏快照**
```
    直接删除对应AVD的`default_boot`快照文件夹（这是你之前加载的有问题快照），终端执行：

    # 递归删除损坏的default_boot快照（路径与你的AVD名称完全对应）
    rm -rf ~/.android/avd/Pixel_3a_API_36_extension_level_17_x86_64.avd/snapshots/default_boot
```

3.  **验证快照是否删除成功**
    执行命令查看快照目录，若没有`default_boot`文件夹，说明删除成功：
    ```bash
    # 列出快照目录下的内容
    ls ~/.android/avd/Pixel_3a_API_36_extension_level_17_x86_64.avd/snapshots/
    ```

## 二、备选方案：模拟器UI删除（可视化操作，无需记命令）
```
这种方法需要确保模拟器进程完全关闭（解锁快照文件），此时快照删除按钮就会从灰色变为可用，步骤如下：
1.  **彻底关闭所有模拟器进程（核心解锁步骤）**
    - 关闭模拟器窗口，终端按 `Ctrl+C` 终止模拟器进程；
    - 强制清理残留进程（避免快照锁定），执行命令：

      # 杀死所有模拟器相关残留进程
      pkill -9 emulator

2.  **打开Android Studio的设备管理器，进入快照管理**
    - 打开Android Studio，顶部菜单栏选择 `Tools` -> `Device Manager`（设备管理器）；
    - 在设备列表中，找到 `Pixel_3a_API_36_extension_level_17_x86_64` 这个AVD；
    - 点击该AVD右侧的「三个点」（更多操作），选择 `Snapshots`（快照管理），此时会进入快照列表界面；
3.  **删除损坏快照**
    - 在快照列表中，你会看到 `default_boot` 快照（就是导致黑屏的那个）；
    - 此时快照右侧的「Delete」（删除）按钮已变为可点击状态（不再灰色），点击它；
    - 弹出确认窗口，选择「Delete」（确认删除），即可清除损坏快照。
```

## 三、后续补充：删除后重新生成干净快照（可选）
```
若你需要继续使用快照功能（加快模拟器启动速度），可以生成全新的干净快照：
1.  用无快照命令启动模拟器（确保系统正常）：

    emulator -avd Pixel_3a_API_36_extension_level_17_x86_64 -gpu host -accel on -no-boot-anim -no-snapshot-load

2.  模拟器正常进入系统后，直接关闭模拟器窗口；
3.  关闭时会弹出选项，选择 `Save and Quit`（保存并退出），此时会自动生成全新的 `default_boot` 快照，后续启动无需加 `-no-snapshot-load` 也能正常显示。
```
### 总结
```
1.  核心操作前提：**必须彻底关闭模拟器进程**，否则快照文件被锁定，无法删除（这是之前删除按钮灰色的根本原因）；
2.  优先选「命令行删除」，步骤简单、生效快，无需依赖Android Studio；
3.  备选「UI删除」，可视化操作更友好，适合不熟悉命令行的场景；
4.  删除损坏快照后，可按需重新生成干净快照，恢复快速启动功能。
```